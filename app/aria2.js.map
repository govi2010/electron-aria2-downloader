{"version":3,"file":"aria2.js","sources":["src/env.js","src/aria2.js"],"sourcesContent":["// Simple wrapper exposing environment variables to rest of the code.\r\n\r\nimport jetpack from 'fs-jetpack';\r\n\r\n// The variables have been written to `env.json` by the build process.\r\nvar env = jetpack.cwd(__dirname).read('env.json', 'json');\r\n\r\nexport default env;\r\n","\nconst run_cmd = require('./run_cmd');\nimport env from './env';\nconst path = require('path');\nmodule.exports = {\n\tlaunch: function (secret, http_user, http_passwd) {\n\n\t\tvar filepath = \"\";\n\t\tif (env.name !== 'production') {\n\t\t\tif (process.platform === 'win32' && process.arch === \"x64\") {\n\t\t\t\tfilepath = path.join(__dirname, \"bin/win64/aria2c.exe\");\n\t\t\t}\n\t\t\tif (process.platform === 'win32' && process.arch === \"ia32\") {\n\t\t\t\tfilepath = path.join(__dirname, \"bin/win32/aria2c.exe\");\n\t\t\t}\n\t\t\tif (process.platform === 'darwin') {\n\t\t\t\tfilepath = path.join(__dirname, \"bin/osx/aria2c\");\n\t\t\t}\n\t\t} else {\n\t\t\tif (process.platform === 'win32' && process.arch === \"x64\") {\n\t\t\t\tfilepath = path.join(process.resourcesPath, \"app/bin/win64/aria2c.exe\");\n\t\t\t}\n\t\t\tif (process.platform === 'win32' && process.arch === \"ia32\") {\n\t\t\t\tfilepath = path.join(process.resourcesPath, \"app/bin/win32/aria2c.exe\");\n\t\t\t}\n\t\t\tif (process.platform === 'darwin') {\n\t\t\t\tfilepath = path.join(process.resourcesPath, \"app/bin/osx/aria2c\");\n\t\t\t}\n\t\t}\n\t\t// if (isDevelopment) {\n\t\t// \tfilepath = path.join(__dirname, \"myscripts/myscript1.sh\");\n\t\t// } else {\n\t\t// \tfilepath = path.join(process.resourcesPath, \"app/myfolder/subfolder/myscripts/myscript1.sh\");\n\t\t// }\n\n\t\trun_cmd.execute(filepath, [\n\t\t\t\"--enable-rpc\",\n\t\t\t\"--rpc-listen-all\",\n\t\t\t//\"--rpc-secret=\" + secret,\n\t\t\t//\"--http-user=\" + http_user,\n\t\t\t//\"--http-passwd=\" + http_passwd,\n\t\t\t//\"--daemon\"\n\t\t], function (text) { console.log(text) });\n\t},\n\tquit() {\n\n\t\tif (process.platform === 'win32') {\n\t\t\trun_cmd.execute(\"Taskkill\", [\n\t\t\t\t\"/IM\", \"aria2\", \"/F\"\n\t\t\t], function (text) { console.log(text) });\n\t\t}\n\t\telse if (process.platform === 'darwin') {\n\t\t\trun_cmd.execute(\"pkill\", [\n\t\t\t\t\"aria2\"\n\t\t\t], function (text) { console.log(text) });\n\t\t}\n\n\t}\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,AAEA;AACA,IAAI,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,AAE1D,AAAmB;;ACNnB,MAAM,OAAO,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AACrC,AACA,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,MAAM,CAAC,OAAO,GAAG;CAChB,MAAM,EAAE,UAAU,MAAM,EAAE,SAAS,EAAE,WAAW,EAAE;;EAEjD,IAAI,QAAQ,GAAG,EAAE,CAAC;EAClB,IAAI,GAAG,CAAC,IAAI,KAAK,YAAY,EAAE;GAC9B,IAAI,OAAO,CAAC,QAAQ,KAAK,OAAO,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK,EAAE;IAC3D,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,sBAAsB,CAAC,CAAC;IACxD;GACD,IAAI,OAAO,CAAC,QAAQ,KAAK,OAAO,IAAI,OAAO,CAAC,IAAI,KAAK,MAAM,EAAE;IAC5D,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,sBAAsB,CAAC,CAAC;IACxD;GACD,IAAI,OAAO,CAAC,QAAQ,KAAK,QAAQ,EAAE;IAClC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;IAClD;GACD,MAAM;GACN,IAAI,OAAO,CAAC,QAAQ,KAAK,OAAO,IAAI,OAAO,CAAC,IAAI,KAAK,KAAK,EAAE;IAC3D,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,0BAA0B,CAAC,CAAC;IACxE;GACD,IAAI,OAAO,CAAC,QAAQ,KAAK,OAAO,IAAI,OAAO,CAAC,IAAI,KAAK,MAAM,EAAE;IAC5D,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,0BAA0B,CAAC,CAAC;IACxE;GACD,IAAI,OAAO,CAAC,QAAQ,KAAK,QAAQ,EAAE;IAClC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,oBAAoB,CAAC,CAAC;IAClE;GACD;;;;;;;EAOD,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE;GACzB,cAAc;GACd,kBAAkB;;;;;GAKlB,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA,EAAE,CAAC,CAAC;EAC1C;CACD,IAAI,GAAG;;EAEN,IAAI,OAAO,CAAC,QAAQ,KAAK,OAAO,EAAE;GACjC,OAAO,CAAC,OAAO,CAAC,UAAU,EAAE;IAC3B,KAAK,EAAE,OAAO,EAAE,IAAI;IACpB,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA,EAAE,CAAC,CAAC;GAC1C;OACI,IAAI,OAAO,CAAC,QAAQ,KAAK,QAAQ,EAAE;GACvC,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE;IACxB,OAAO;IACP,EAAE,UAAU,IAAI,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA,EAAE,CAAC,CAAC;GAC1C;;EAED;CACD,CAAA"}